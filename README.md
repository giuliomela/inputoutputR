
<!-- README.md is generated from README.Rmd. Please edit that file -->

# inputoutputR

<!-- badges: start -->
<!-- badges: end -->

The package `inputoutputR` is a tool to perform impact analysis on the
Italian economy using *supply and use* (SUT) tables. SUT tables are from
the [OECD
database](https://www.oecd.org/sdd/na/supply-and-use-tables-database.htm)
and refer to a given base year. Tables are updated by the package
maintainer once a year or when deemed necessary. Pollutant emissions
data are from [ISTAT](https://esploradati.istat.it/databrowser/#/).

Supply and use models can be of different kinds. One major distinction
is between commodity-demand and industry-demand driven models. The model
developed in this package belongs to the former category as the
exogenous force driving the model is final demand for commodities.
Commodity-demand driven models can be further divided in two categories:
models assuming industry technology and models assuming commodity
technology. The model developed in this package is of the first kind:
all commodities produced by an industry are assumed to have the same
input structure. Industry input structures are the basic data, and
commodity input structures are found as weighted averages of these
columns (see Mille and Blair, Chapter 5).

At the moment only *type 1* models are supported. Such models assess the
direct and indirect impacts of a shock in final demand but does not take
into account induced impacts, that is those triggered by a change in
final household consumption. In other words, *type 1* models treat
household consumption as exogenous, while *type 2* models as an
endogenous variable. Type 2 models can be estimated only if data on
households’ saving and spending propensity are available.

In addition to impacts on economic variables (GDP, imports, tax revenue,
etc.), the model is able to return information on the impact in terms of
air pollutant emissions (GHGs, heavy metals, and macro-pollutants) in
Italy as well as on the number of employed people.

## Installation

You can install the development version of `inputoutputR` from
[GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("giuliomela/inputoutputR")
```

## Example

The function `sut_model()` runs a supply and use impact analysis on the
basis of the most recent SUT data. The impact to be evaluated is that
generated by the introduction of a new sector/product in the economy.
The function’s computes a mono-regional impact analysis. New versions of
this package might include multi-regional models.

The basic simulation implies that the user provides a matrix of changes
in final demand and a matrix - optional - of changes in final demand
satisfied by imports. In this way, the model returns the impact of such
change given the interrelations between sectors of the economy.

Alternatively, it is possible to simulate the impact generated by a
variation in final demand and/or the introduction of a new
sector/product. To do so, however, more input data must be provided by
the user.

In both cases, input data must be organised in an Excel spreadsheet.
Such spreadsheet must follow a given template.

In the first case, input data must include:

- Final exogenous demand
- Final exogenous import demand (shares on total demand)

In the second case, input data must include:

- Use vector at purchasers’ prices
- Use import vector at purchasers’ prices
- Share of the new sector’s output used up by other sectors as
  intermediate input
- Value added, compensation of employees and total output of the new
  sector
- Supply vector of the new sector
- Final exogenous demand
- Final exogenous import demand (shares on total demand)
- Number of employees in the new sector
- Emissions of the new sector (direct emissions only)

Other than the input spreadsheet, the user must provide other
information under the form of parameters when calling the `sut_model()`
function:

``` r

library(inputoutputR)
## basic example code

sut_model(
  type = "type1", # currently the only option available
  sector = "V27", # The ISTAT code of the sector from which the new sectors is substracted from
  new_sector = TRUE,
  new_sector_name = "FAAM", # A user-defined name for the new sector
  transport_distribution_services = c("RD", "R45", "R46", "R47", "R49", "R50", "R51"), # Distribution and transportation sectors (needed to convert input data, provided at purchasers' prices, into base prices)
  prices = "pb", # Price type at which the analysis is carried out. Either 'pb' (base prices) or 'pa' (purchasers' prices)
  sector_to_join = "VT", # Istat code of the sector to sum up to destination_sector to make room in the matrix for the new one
  product_to_join = "RT", # Istat code of the product to sum up to sector 'V96' to make room in the matrix for the new one
  destination_sector = "V96",
  destination_product = "R96"
  )
```

If the argument `new_sector` is set to `FALSE` most of the other
arguments do not need to be provided.

The function, when launched, will automatically open a dialogue window
allowing the user to select the spreadsheet file containing input data.

The returned output is a list containing absolute changes of the
following variables:

- Output (matrix)
- Indirect taxes (vector)
- Intermediate imports (vector)
- Value added (A number)
- Employed persons (A number)
- Emissions (a list, further divided by emission type and pollutant)
- Multipliers (a list, multipliers of all the variables considered,
  emissions included)
- Recap table

All economic data are expressed in million euro (at the reference year’s
prices). Emissions are expressed in tonnes, employment in number of
people employed.

The datasets used in the model can be accessed by the user calling,
respectively:

- `inputoutputR::tables`: input-output tables,
- `inputoutputR::emissions`: emission data by sector,
- `inputoutputR::employment`: employment data by sector (hours, jobs,
  people),
- `inputoutputR::legend_oecd`: correspondence tables between OECD and
  ISTAT product and sector codes and labels.
